<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Content:</strong>
  <%= @post.content %>
</p>

<hr />

<h2> Vote </h2>
<% unless @post.user == current_user%>
  <p> <%= link_to 'Upvote', up_vote_post_path(@post), method: :patch %> | <%= link_to 'Downvote', down_vote_post_path(@post), method: :patch %> 
<% else%>
  Vote count: <%= @post.vote_count %>
<% end %>

<h2>Comments</h2>

<% if @post.comments.any? %>
  <% @post.comments.each do |comment| %>
    <% if comment.accepted %>
      <p>Comment Title: <%= comment.title %></p>
      <p>Content: <%= comment.content %></p>
      <hr>
    <% end %>
  <% end %>
<% else %>
  <p> There is no comment yet.</p>
<% end %>


<% unless @post.user == current_user%>
  <h2>Add Comments</h2>

  <%= form_with model: [@post, @post.comments.build] do |form| %>

    <p>
      <%= form.label :title %>
      <%= form.text_field :title %>
    </p>

    <p>
      <%= form.label :content %>
      <%= form.text_area :content %>
    </p>

    <p>
    <%= form.submit %>
    </p>
  <% end %>
<% end %>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', dashboard_index_path %>
